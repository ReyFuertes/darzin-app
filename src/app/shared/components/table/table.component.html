<table mat-table matSort [dataSource]="dataSource">
  <ng-container *ngFor="let column of columns; let i = index" [matColumnDef]="column">
    <ng-container *ngIf="column !== 'actions' && column !== 'purchases' && column !== 'edit' && column !== 'delete'">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ column }} </th>
      <td mat-cell *matCellDef="let element"> {{ element[column] }} </td>
    </ng-container>
    <ng-container *ngIf="column === 'actions'">
      <th mat-header-cell *matHeaderCellDef> {{column}} </th>
      <td mat-cell *matCellDef="let element">
        <button mat-button (click)="onEdit(element)">Edit</button>
      </td>
    </ng-container>
    <ng-container *ngIf="column === 'actions'">
      <th mat-header-cell *matHeaderCellDef> {{column}} </th>
      <td mat-cell *matCellDef="let element">
        <button mat-button (click)="onEdit(element)">Edit</button>
      </td>
    </ng-container>
    <ng-container *ngIf="column === 'edit'">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let element">
        <button mat-button (click)="onEdit(element)">Edit</button>
      </td>
    </ng-container>
    <ng-container *ngIf="column === 'delete'">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let element">
        <button mat-button (click)="onDelete(element)">Delete</button>
      </td>
    </ng-container>
    <ng-container *ngIf="column === 'purchases'">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let element">
        <button mat-button (click)="onView(element)">Purchases</button>
      </td>
    </ng-container>
  </ng-container>
  <tr mat-header-row *matHeaderRowDef="columns"></tr>
  <tr mat-row *matRowDef="let row; columns: columns;"></tr>
</table>
<mat-paginator #paginator (page)="pageChangeEvent($event)" [length]="totalRecords" [pageSize]="pageSize"
  [pageIndex]="pageIndex" [length]="totalRecords" [pageSizeOptions]="[5, 10, 20, 50, 100]" showFirstLastButtons>
</mat-paginator>